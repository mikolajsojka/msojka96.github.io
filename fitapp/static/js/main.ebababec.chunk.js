(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{202:function(e,t,a){e.exports=a(381)},381:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(14),i=a.n(c),o=a(15),s=a(16),l=a(18),u=a(17),m=a(19),d=a(59),p=a(11),b=a(31),f=a(5),v=a(7),E=a.n(v),h=a(25),g=a(174),y=a.n(g).a.create({baseURL:"https://cors-anywhere.herokuapp.com/https://safe-retreat-01562.herokuapp.com"}),S=a(28),w=Object(S.a)(),O=function(){return function(){var e=Object(h.a)(E.a.mark(function e(t,a){var r,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a().user.isSigned){e.next=7;break}return r={id:a().user.user.userId},e.next=4,y.post("/meals",{id:r,token:a().user.token});case 4:n=e.sent,localStorage.setItem("meals",JSON.stringify(n.data)),t({type:"GET_MEALS",payload:n.data});case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},k=function(){return function(){var e=Object(h.a)(E.a.mark(function e(t,a){var r,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a().user.isSigned){e.next=7;break}return r={id:a().user.user.userId},e.next=4,y.post("/activities",{id:r,token:a().user.token});case 4:n=e.sent,localStorage.setItem("activities",JSON.stringify(n.data)),t({type:"GET_ACTIVITIES",payload:n.data});case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(h.a)(E.a.mark(function t(a,r){var n,c,i,o;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r().user.isSigned){t.next=10;break}return n={_id:r().user.user.userId},t.next=4,y.post("/users/bmr",Object(f.a)({},e,{_id:n,token:r().user.token}));case 4:c=t.sent,i=JSON.parse(localStorage.getItem("user")),o={id:i.userId,height:c.data.height,weight:c.data.weight,activity:c.data.activity,sex:c.data.sex,age:c.data.age,bmr:c.data.bmr},localStorage.setItem("bmr",JSON.stringify(o)),a({type:"BMR",payload:o}),w.push("/");case 10:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()},j=(a(230),a(100),a(60)),N=a(52),A=a.n(N),M=a(61),x=a.n(M);A.a.locale("en"),x()();var T=function(e){var t=e.getDate(),a=e.getMonth()+1,r=e.getFullYear();return t<10?a<10?r+"-0"+a+"-0"+t:r+"-"+a+"-0"+t:a<10?t<10?r+"-0"+a+"-0"+t:r+"-0"+a+"-"+t:r+"-"+a+"-"+t},C=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={date:T(new Date),meals:null,activities:null,bmr:null,countermeals:{},counteractivities:{}},a.renderAvg=function(){try{if(null!==a.props.bmr.bmr.bmr){var e=0,t=0,r=0;try{t=a.state.countermeals.gcounter}catch(o){}try{r=a.state.counteractivities.gcounter}catch(o){}try{e=a.state.countermeals.days}catch(o){}var c=(t-r)/e,i="";return i=T(new Date)!==a.state.date?"".concat(a.state.date,"/").concat(T(new Date)):"dzisiaj",n.a.createElement("div",{className:"data"},n.a.createElement("table",{className:"ui celled table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\u015aredni bilans dzienny: ",i))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,String(c))))))}}catch(o){}},a.onDateChange=function(e){a.setState({date:T(e)}),a.props.getCounterMeals(T(e)),a.props.getCounterActivities(T(e))},a.renderItems=function(e,t,r,n){var c=0;try{var i=e.map(function(e){if(String(e.date)===String(a.state.date))return c+=parseInt(e.kcal),e});if(0!==(i=i.filter(function(e){return void 0!==e})).length)return a.renderTable(i,t,c,r)}catch(o){}},a.onElementClick=function(e,t){a.props.deleteItem(e,t)},a.renderTable=function(e,t,r,c){var i=e.map(function(e){try{return n.a.createElement("tr",{key:e._id,onClick:a.onElementClick.bind(Object(d.a)(a),e,c)},n.a.createElement("td",{"data-label":"Type"},e.name),n.a.createElement("td",{"data-label":"Kcal"},e.kcal),n.a.createElement("td",{"data-label":"Description"},e.description))}catch(t){return""}});return n.a.createElement("div",{className:"data"},n.a.createElement("table",{className:"ui celled striped  table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,c))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,r)))),n.a.createElement("table",{className:"ui celled table meals"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,t),n.a.createElement("th",null,"Kcal:"),n.a.createElement("th",null,"Opis:"))),n.a.createElement("tbody",null,i)))},a.renderBMR=function(){try{if(null!==a.props.bmr.bmr.bmr)return n.a.createElement("div",{className:"data"},n.a.createElement("table",{className:"ui celled table bilance"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"BMR"))),n.a.createElement("tbody",null,n.a.createElement("tr",null,a.renderbmr()))))}catch(e){}},a.renderbmr=function(){if(null!==a.props.bmr.bmr.bmr)return n.a.createElement("td",null,a.props.bmr.bmr.bmr)},a.render=function(){return a.props.user.isSigned?n.a.createElement("div",{className:"main"},n.a.createElement("div",{id:"my-buttons"},n.a.createElement(b.a,{to:"/addmeal",className:"ui orange button"},"Dodaj posi\u0142ek"),n.a.createElement(b.a,{to:"/addactivity",className:"ui yellow button"},"Dodaj aktywno\u015b\u0107")),n.a.createElement("div",{id:"raport"},a.renderBMR(),a.onDateSelected(),a.renderAvg(),a.renderItems(a.state.meals,"Posi\u0142ki","Zjedzone Kalorie:","meals"),a.renderItems(a.state.activities,"Aktywno\u015b\u0107","Spalone Kalorie:","aactivities"))):(w.push("/login"),n.a.createElement("div",null,"Niezalogowany"))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){try{this.setState({bmr:this.props.bmr.bmr.bmr})}catch(e){}try{this.setState({counteractivities:this.props.counterActivities.counteractivities})}catch(e){}try{this.setState({countermeals:this.props.counterMeals.countermeals})}catch(e){}this.props.getMeals(),this.props.getActivities(),this.props.getCounterMeals(this.state.date),this.props.getCounterActivities(this.state.date)}},{key:"componentWillReceiveProps",value:function(e){if(e.meals!==this.props.meals)try{this.setState({meals:e.meals[0].items})}catch(t){}if(e.activities!==this.props.activities)try{this.setState({activities:e.activities[0].items})}catch(t){}if(e.counterMeals!==this.props.counterMeals)try{this.setState({countermeals:e.counterMeals.countermeals})}catch(t){}if(e.counterActivities!==this.props.counterActivities)try{this.setState({counteractivities:e.counterActivities.counteractivities})}catch(t){}}},{key:"onDateSelected",value:function(){return n.a.createElement(j.DateTimePicker,{value:new Date(this.state.date),selected:new Date(this.state.date),time:!1,onChange:this.onDateChange})}}]),t}(n.a.Component),z=Object(p.b)(function(e){return{user:e.user,meals:Object.values(e.meals),activities:Object.values(e.activities),bmr:e.bmr,counterMeals:e.countermeals,counterActivities:e.counteractivities}},{getMeals:O,getActivities:k,clearActivities:function(){return localStorage.clear(),localStorage.setItem("activities",null),{type:"CLEAR_ACTIVITIES",payload:null}},clearMeals:function(){return localStorage.clear(),localStorage.setItem("meals",null),{type:"CLEAR_MEALS",payload:null}},refreshMeals:function(){return w.push("/"),{type:"REFRESH_MEALS"}},getCounterMeals:function(e){return function(){var t=Object(h.a)(E.a.mark(function t(a,r){var n,c;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r().user.isSigned){t.next=7;break}return n={id:r().user.user.userId},t.next=4,y.post("/meals/getCounter",{id:n,date:e,token:r().user.token});case 4:c=t.sent,localStorage.setItem("countermeals",JSON.stringify({counter:c.data.counter,gcounter:c.data.gcounter,days:c.data.days,name:"countermeals"})),a({type:"GET_COUNTER_MEALS",payload:{counter:c.data.counter,gcounter:c.data.gcounter,days:c.data.days,name:"countermeals"}});case 7:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()},getCounterActivities:function(e){return function(){var t=Object(h.a)(E.a.mark(function t(a,r){var n,c;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r().user.isSigned){t.next=7;break}return n={id:r().user.user.userId},t.next=4,y.post("/activities/getCounter",{id:n,date:e,token:r().user.token});case 4:c=t.sent,localStorage.setItem("counteractivities",JSON.stringify({counter:c.data.counter,gcounter:c.data.gcounter,days:c.data.days,name:"counteractivities"})),a({type:"GET_COUNTER_ACTIVITIES",payload:{counter:c.data.counter,gcounter:c.data.gcounter,days:c.data.days,name:"counteractivities"}});case 7:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()},deleteItem:function(e,t){return function(){var a=Object(h.a)(E.a.mark(function a(r,n){var c,i,o,s;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!n().user.isSigned){a.next=19;break}if(c={id:e._id},i={id:n().user.user.userId},"Zjedzone Kalorie:"!==t){a.next=11;break}return a.next=6,y.delete("/meals/delete/".concat(c.id,"/").concat(i.id,"/").concat(n().user.token));case 6:(o=JSON.parse(localStorage.getItem("countermeals"))).gcounter=parseInt(o.gcounter)-parseInt(e.kcal),localStorage.setItem("countermeals",JSON.stringify(o)),r({type:"REFRESH_COUNTER_MEALS",payload:o});try{r({type:"DELETE_MEAL",payload:e._id})}catch(l){}case 11:if("Spalone Kalorie:"!==t){a.next=19;break}return a.next=14,y.delete("/activities/delete/".concat(c.id,"/").concat(i.id,"/").concat(n().user.token));case 14:(s=JSON.parse(localStorage.getItem("counteractivities"))).gcounter=parseInt(s.gcounter)-parseInt(e.kcal),localStorage.setItem("counteractivities",JSON.stringify(s)),r({type:"REFRESH_COUNTER_ACTIVITIES"}),r({type:"DELETE_ACTIVITY",payload:e._id});case 19:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()}})(C),_=a(170),R=a(171);A.a.locale("en"),x()();var D=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={startDate:new Date},a.onSubmit=function(e){a.props.addMeal(e)},a.renderInputDate=function(e){var t=e.input.onChange,r=e.label,c=e.meta,i="field ".concat(c.error&&c.touched?"error":"");return n.a.createElement("div",{className:i},n.a.createElement("label",null,r),n.a.createElement(j.DateTimePicker,{time:!1,onChange:t}),a.renderError(c))},a.renderInput=function(e){var t=e.input,r=e.label,c=e.meta,i="field ".concat(c.error&&c.touched?"error":"");return n.a.createElement("div",{className:i},n.a.createElement("label",null,r),n.a.createElement("input",Object.assign({},t,{autoComplete:"off"})),a.renderError(c))},a.renderMealType=function(e){var t=e.input,r=e.label,c=e.meta,i="field ".concat(c.error&&c.touched?"error":"");return n.a.createElement("div",{className:i},n.a.createElement("label",null,r),n.a.createElement("select",t,n.a.createElement("option",null),n.a.createElement("option",{value:"\u015bniadanie"},"\u015bniadanie"),n.a.createElement("option",{value:"lunch"},"lunch"),n.a.createElement("option",{value:"obiad"},"obiad"),n.a.createElement("option",{value:"podwieczorek"},"podwieczorek"),n.a.createElement("option",{value:"kolacja"},"kolacja"),n.a.createElement("option",{value:"przek\u0105ska"},"przek\u0105ska")),a.renderError(c))},a.checkUser=function(){return n.a.createElement("div",{className:"form-container"},n.a.createElement("form",{onSubmit:a.props.handleSubmit(a.onSubmit),className:"ui form error"},n.a.createElement(_.a,{name:"meal",component:a.renderMealType,label:"Wprowad\u017a posi\u0142ek"}),n.a.createElement(_.a,{name:"kcal",component:a.renderInput,label:"Zjedzone kalorie"}),n.a.createElement(_.a,{name:"date",showTime:!1,component:a.renderInputDate,label:"Wprowad\u017a dat\u0119"}),n.a.createElement(_.a,{name:"description",component:a.renderInput,label:"Wprowad\u017a opis"}),n.a.createElement("button",{className:"ui button primary"},"Dodaj")))},a.render=function(){return a.props.user.isSigned?n.a.createElement("div",{id:"meals"},a.checkUser()):(w.push("/login"),n.a.createElement("div",null,"Niezalogowany"))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return n.a.createElement("div",{className:"ui mini red message"},t)}}]),t}(n.a.Component),L=Object(R.a)({form:"addmeal",validate:function(e){var t={};return e.meal||(t.meal="Musisz poda\u0107 jaki\u015b posi\u0142ek"),e.kcal||(t.kcal="Musisz poda\u0107 kalorie"),e.date||(t.date="Musisz poda\u0107 dat\u0119"),isNaN(parseInt(e.kcal))&&(t.kcal="Kalorie wyra\u017ca si\u0119 w liczbach"),t}})(D),U=Object(p.b)(function(e){return{user:e.user,meals:Object.values(e.meals)}},{addMeal:function(e){return function(){var t=Object(h.a)(E.a.mark(function t(a,r){var n,c,i;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r().user.isSigned){t.next=9;break}return n={id:r().user.user.userId},t.next=4,y.post("/meals/add",Object(f.a)({},e,{id:n,token:r().user.token}));case 4:c=t.sent,null===(i=JSON.parse(localStorage.getItem("meals")))?localStorage.setItem("meals",JSON.stringify(c.data)):(i.items.push(c.data),localStorage.setItem("meals",JSON.stringify(i))),a({type:"ADD_MEAL",payload:i}),w.push("/");case 9:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()}})(L),J=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).onSubmit=function(e){a.props.signUp(e)},a.renderInput=function(e){var t=e.input,r=e.label,c=e.meta,i="field ".concat(c.error&&c.touched?"error":"");return"password"===t.name||"password2"===t.name?n.a.createElement("div",{className:i},n.a.createElement("label",null,r),n.a.createElement("input",Object.assign({},t,{autoComplete:"off",type:"password"})),a.renderError(c)):n.a.createElement("div",{className:i},n.a.createElement("label",null,r),n.a.createElement("input",Object.assign({},t,{autoComplete:"off"})),a.renderError(c))},a.checkUser=function(){return n.a.createElement("div",{className:"form-container"},n.a.createElement("form",{onSubmit:a.props.handleSubmit(a.onSubmit),className:"ui form error"},n.a.createElement(_.a,{name:"username",component:a.renderInput,label:"Wprowad\u017a login"}),n.a.createElement(_.a,{name:"email",component:a.renderInput,label:"Wprowad\u017a email"}),n.a.createElement(_.a,{name:"name",component:a.renderInput,label:"Wprowad\u017a imi\u0119"}),n.a.createElement(_.a,{name:"password",component:a.renderInput,label:"Wprowad\u017a has\u0142o"}),n.a.createElement(_.a,{name:"password2",component:a.renderInput,label:"Wprowad\u017a has\u0142o ponownie"}),n.a.createElement("button",{className:"ui button primary"},"Zarejestruj")))},a.render=function(){return a.props.user.isSigned?n.a.createElement("div",{className:"ui red message"},"Zalogowany"):n.a.createElement("div",{id:"register"},a.checkUser())},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return n.a.createElement("div",{className:"ui mini red message"},t)}}]),t}(n.a.Component),W=Object(R.a)({form:"register",validate:function(e){var t={};return e.username||(t.username="Musisz poda\u0107 login"),e.email||(t.email="Musisz poda\u0107 email"),e.password||(t.password="Musisz poda\u0107 has\u0142o"),e.name||(t.name="Musisz poda\u0107 imi\u0119"),e.password2||(t.password2="Musisz poda\u0107 has\u0142o drugi raz"),/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e.email)||(t.email="Musisz poda\u0107 poprawny adres email"),t}})(J),P=Object(p.b)(function(e){return{user:e.user}},{signUp:function(e){return function(){var t=Object(h.a)(E.a.mark(function t(a){var r;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.post("/users/register",e);case 2:r=t.sent,a({type:"SIGN_UP",payload:r.data}),w.push("/login");case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(W),G=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).onSubmit=function(e){a.props.signIn(e)},a.renderInput=function(e){var t=e.input,r=e.label,c=e.meta,i="field ".concat(c.error&&c.touched?"error":"");return"password"===t.name||"password2"===t.name?n.a.createElement("div",{className:i},n.a.createElement("label",null,r),n.a.createElement("input",Object.assign({},t,{autoComplete:"off",type:"password"})),a.renderError(c)):n.a.createElement("div",{className:i},n.a.createElement("label",null,r),n.a.createElement("input",Object.assign({},t,{autoComplete:"off"})),a.renderError(c))},a.checkUser=function(){return n.a.createElement("div",{className:"column form-container"},n.a.createElement("form",{onSubmit:a.props.handleSubmit(a.onSubmit),className:"ui form error"},n.a.createElement(_.a,{name:"username",component:a.renderInput,label:"Wprowad\u017a login"}),n.a.createElement(_.a,{name:"password",component:a.renderInput,label:"Wprowad\u017a has\u0142o"}),n.a.createElement("button",{className:"ui button primary"},"Zaloguj"),n.a.createElement(b.a,{to:"/changepassword",className:"ui button "},"Zapomnia\u0142e\u015b has\u0142a?")))},a.render=function(){return a.props.user.isSigned?n.a.createElement("div",{className:"ui red message"},"Zalogowany"):n.a.createElement("div",{id:"loginAll"},n.a.createElement("div",{id:"login"},a.checkUser()),n.a.createElement("div",{id:"appInfo"},n.a.createElement("h4",null,"Wszystkie kalorie w jednym miejscu!"),n.a.createElement("div",{id:"description"},n.a.createElement("div",{className:"text"},"Zaawansowany dzienniczek kaloryczny dla spo\u017cytych oraz spalonych kalorii."),n.a.createElement("b",null,"Po co ?"),n.a.createElement("div",{className:"text"},"\u015aledzenie kalorii nigdy nie by\u0142o tak \u0142atwe."),n.a.createElement("b",null,"Raporty \u017cywieniowe"),n.a.createElement("div",{className:"text"},"Generujesz raport \u017cywieniowy dla dowolnie wybranego przez Ciebie okresu."),n.a.createElement("b",null,"Jak to dzia\u0142a ?"),n.a.createElement("img",{src:"./images/information.png",alt:"Information"}))))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return n.a.createElement("div",{className:"ui mini red message"},t)}}]),t}(n.a.Component),V=Object(R.a)({form:"login",validate:function(e){var t={};return e.username||(t.username="Musisz poda\u0107 login"),e.password||(t.password="Musisz poda\u0107 has\u0142o"),t}})(G),Z=Object(p.b)(function(e){return{user:e.user}},{signIn:function(e){return function(){var t=Object(h.a)(E.a.mark(function t(a){var r,n,c;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.post("/users/login",e);case 3:r=t.sent,n={userId:r.data.user._id,username:r.data.user.username,email:r.data.user.email},c={id:r.data.user._id,height:r.data.user.height,weight:r.data.user.weight,activity:r.data.user.activity,sex:r.data.user.sex,age:r.data.user.age,bmr:r.data.user.bmr},localStorage.setItem("bmr",JSON.stringify(c)),localStorage.setItem("user",JSON.stringify(n)),localStorage.setItem("token",JSON.stringify(r.data.user.token)),localStorage.setItem("isSigned",!0),a({type:"BMR",payload:c}),a({type:"TOKEN",payload:r.data.user.token}),a({type:"SIGN_IN",payload:n}),w.push("/"),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),alert("UPS... Co\u015b posz\u0142o nie tak..");case 19:case"end":return t.stop()}},t,null,[[0,16]])}));return function(e){return t.apply(this,arguments)}}()},getMeals:O,getActivities:k})(V),K=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).onLogOutClick=function(){a.props.logOut()},a.onLogOff=function(){return n.a.createElement("div",{className:"ui buttons header-buttons"},n.a.createElement(b.a,{to:"/login",className:"ui button"},"Logowanie"),n.a.createElement("div",{className:"or"}),n.a.createElement(b.a,{to:"/register",className:"ui positive button"},"Rejestracja"))},a.onLogIn=function(){return n.a.createElement("div",{className:"ui buttons header-buttons"},n.a.createElement(b.a,{to:"/bmr",className:"ui button"},"BMR"),n.a.createElement("div",{className:"or"}),n.a.createElement(b.a,{to:"/login",className:"ui teal button",onClick:a.onLogOutClick},"Wyloguj(",a.props.user.user.username,")"))},a.render=function(){return a.props.user.isSigned?n.a.createElement("div",{className:"header"},a.onLogIn()):n.a.createElement("div",{className:"header"},a.onLogOff())},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){}}]),t}(n.a.Component),B=Object(p.b)(function(e){return{user:e.user,meals:e.meals,activities:e.activities}},{logOut:function(){return function(){var e=Object(h.a)(E.a.mark(function e(t,a){var r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a().user.isSigned){e.next=9;break}return r={id:a().user.user.userId},e.next=4,y.post("/users/logout",{id:r});case 4:localStorage.clear(),localStorage.setItem("user",null),localStorage.setItem("isSigned",!1),t({type:"LOG_OUT"}),w.push("/login");case 9:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()}})(K);A.a.locale("en"),x()();var F=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={startDate:new Date},a.onSubmit=function(e){a.props.addActivity(e)},a.renderInputDate=function(e){var t=e.input.onChange,r=e.label,c=e.meta,i="field ".concat(c.error&&c.touched?"error":"");return n.a.createElement("div",{className:i},n.a.createElement("label",null,r),n.a.createElement(j.DateTimePicker,{time:!1,onChange:t}),a.renderError(c))},a.renderInput=function(e){var t=e.input,r=e.label,c=e.meta,i="field ".concat(c.error&&c.touched?"error":"");return n.a.createElement("div",{className:i},n.a.createElement("label",null,r),n.a.createElement("input",Object.assign({},t,{autoComplete:"off"})),a.renderError(c))},a.checkUser=function(){return n.a.createElement("div",{className:"form-container"},n.a.createElement("form",{onSubmit:a.props.handleSubmit(a.onSubmit),className:"ui form error"},n.a.createElement(_.a,{name:"activity",component:a.renderInput,label:"Nazwa aktywno\u015bci"}),n.a.createElement(_.a,{name:"kcal",component:a.renderInput,label:"Spalone kalorie"}),n.a.createElement(_.a,{name:"date",showTime:!1,component:a.renderInputDate,label:"Wprowad\u017a dat\u0119"}),n.a.createElement(_.a,{name:"description",component:a.renderInput,label:"Wprowad\u017a opis"}),n.a.createElement("button",{className:"ui button primary"},"Zatwierd\u017a")))},a.render=function(){return a.props.user.isSigned?n.a.createElement("div",{id:"bmr"},a.checkUser()):(w.push("/login"),n.a.createElement("div",null,"Niezalogowany"))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return n.a.createElement("div",{className:"ui mini red message"},t)}}]),t}(n.a.Component),H=Object(R.a)({form:"addactivity",validate:function(e){var t={};return e.activity||(t.activity="Musisz poda\u0107 jaki\u015b posi\u0142ek"),e.kcal||(t.kcal="Musisz poda\u0107 kalorie"),e.date||(t.date="Musisz poda\u0107 dat\u0119"),isNaN(parseInt(e.kcal))&&(t.kcal="Kalorie wyra\u017ca si\u0119 w liczbach"),t}})(F),Y=Object(p.b)(function(e){return{user:e.user,activities:Object.values(e.activities)}},{addActivity:function(e){return function(){var t=Object(h.a)(E.a.mark(function t(a,r){var n,c,i;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r().user.isSigned){t.next=9;break}return n={id:r().user.user.userId},t.next=4,y.post("/activities/add",Object(f.a)({},e,{id:n,token:r().user.token}));case 4:c=t.sent,w.push("/"),null===(i=JSON.parse(localStorage.getItem("activities")))?localStorage.setItem("activities",JSON.stringify(c.data)):(i.items.push(c.data),localStorage.setItem("activities",JSON.stringify(i))),a({type:"ADD_ACTIVITY",payload:i});case 9:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()}})(H),q=a(43),$=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).onSubmit=function(e){a.props.bmr(e)},a.renderInput=function(e){var t=e.input,r=e.label,c=e.meta,i="field ".concat(c.error&&c.touched?"error":"");return n.a.createElement("div",{className:i},n.a.createElement("label",null,r),n.a.createElement("input",Object.assign({type:"text"},t,{autoComplete:"off"})),a.renderError(c))},a.renderActivitySelect=function(e){var t=e.input,r=e.label,c=e.meta,i="field ".concat(c.error&&c.touched?"error":"");return n.a.createElement("div",{className:i},n.a.createElement("label",null,r),n.a.createElement("select",t,n.a.createElement("option",null),n.a.createElement("option",{value:"1.1"},"1.1"),n.a.createElement("option",{value:"1.2"},"1.2"),n.a.createElement("option",{value:"1.3"},"1.3"),n.a.createElement("option",{value:"1.4"},"1.4"),n.a.createElement("option",{value:"1.5"},"1.5"),n.a.createElement("option",{value:"1.6"},"1.6"),n.a.createElement("option",{value:"1.7"},"1.7"),n.a.createElement("option",{value:"1.8"},"1.8"),n.a.createElement("option",{value:"1.9"},"1.9"),n.a.createElement("option",{value:"2.0"},"2.0")),a.renderError(c))},a.renderSexSelect=function(e){var t=e.input,r=e.label,c=e.meta,i="field ".concat(c.error&&c.touched?"error":"");return n.a.createElement("div",{className:i},n.a.createElement("label",null,r),n.a.createElement("select",t,n.a.createElement("option",null),n.a.createElement("option",{value:"m"},"m\u0119\u017cczyzna"),n.a.createElement("option",{value:"k"},"kobieta")),a.renderError(c))},a.checkUser=function(){return n.a.createElement("div",{className:"form-container"},n.a.createElement("form",{onSubmit:a.props.handleSubmit(a.onSubmit),className:"ui form error"},n.a.createElement(_.a,{name:"weight",component:a.renderInput,label:"Aktualna waga"}),n.a.createElement(_.a,{name:"height",component:a.renderInput,label:"Aktualny wzrost"}),n.a.createElement(_.a,{name:"activity",component:a.renderActivitySelect,label:"Wsp\xf3\u0142czynnik aktywno\u015bci"}),n.a.createElement(_.a,{name:"age",component:a.renderInput,label:"Tw\xf3j wiek"}),n.a.createElement(_.a,{name:"sex",component:a.renderSexSelect,label:"P\u0142e\u0107"}),n.a.createElement("button",{className:"ui button primary"},"Zatwierd\u017a")))},a.render=function(){return a.props.user.isSigned?n.a.createElement("div",{id:"bmr"},a.checkUser()):(w.push("/login"),n.a.createElement("div",null,"Niezalogowany"))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.user.isSigned&&(this.props.initialize({weight:this.props.bmR.bmr.weight,height:this.props.bmR.bmr.height,activity:this.props.bmR.bmr.activity,sex:this.props.bmR.bmr.sex,age:this.props.bmR.bmr.age}),this.props.dispatch(Object(q.a)("bmr","anotherField","value")))}},{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return n.a.createElement("div",{className:"ui mini red message"},t)}}]),t}(n.a.Component),Q=function(e){return{user:e.user,bmR:e.bmr}},X=Object(R.a)({form:"bmr",validate:function(e){var t={};return e.weight||(t.weight="Musisz poda\u0107 wag\u0119"),e.height||(t.height="Musisz poda\u0107 wzrost"),e.activity||(t.activity="Musisz poda\u0107 aktywno\u015b\u0107"),e.age||(t.age="Musisz poda\u0107 wiek"),e.sex||(t.sex="Musisz poda\u0107 p\u0142e\u0107"),isNaN(parseInt(e.weight))&&(t.weight="Waga musi by\u0107 liczb\u0105"),isNaN(parseInt(e.height))&&(t.height="Wzrost musi by\u0107 liczb\u0105"),isNaN(parseInt(e.activity))&&(t.activity="Wsp\xf3\u0142czynnik musi by\u0107 liczb\u0105"),isNaN(parseInt(e.age))&&(t.age="Wiek musi by\u0107 liczb\u0105"),String(e.sex)||(t.sex="P\u0142e\u0107 musi by\u0107 liter\u0105"),t}})($),ee=Object(p.b)(function(e){return Q},{bmr:I,initialValues:{weight:I.weight,height:I.height,activity:I.activity,sex:I.sex,age:I.age}})(X),te=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).onSubmit=function(e){a.props.changePassword(e)},a.renderInput=function(e){var t=e.input,r=e.label,c=e.meta,i="field ".concat(c.error&&c.touched?"error":"");return"newpassword"===t.name?n.a.createElement("div",{className:i},n.a.createElement("label",null,r),n.a.createElement("input",Object.assign({},t,{autoComplete:"off",type:"password"})),a.renderError(c)):n.a.createElement("div",{className:i},n.a.createElement("label",null,r),n.a.createElement("input",Object.assign({},t,{autoComplete:"off"})),a.renderError(c))},a.sendEmail=function(e){a.props.sendEmail(e)},a.checkUser=function(){return n.a.createElement("div",{className:"column form-container"},n.a.createElement("form",{onSubmit:a.props.handleSubmit(a.sendEmail),className:"ui form error sendmail"},n.a.createElement(_.a,{name:"username",component:a.renderInput,label:"Wprowad\u017a nazw\u0119 u\u017cytkownika"}),n.a.createElement("button",{className:"ui button violet"},"Wy\u015blij maila")),n.a.createElement("form",{onSubmit:a.props.handleSubmit(a.onSubmit),className:"ui form error changepassword"},n.a.createElement(_.a,{name:"code",component:a.renderInput,label:"Wprowad\u017a kod z wiadomo\u015bci email"}),n.a.createElement(_.a,{name:"newpassword",component:a.renderInput,label:"Wprowad\u017a nowe has\u0142o"}),n.a.createElement("button",{className:"ui button grey"},"Zmie\u0144 has\u0142o")))},a.render=function(){return a.props.user.isSigned?(w.push("/"),n.a.createElement("div",null,"Zalogowany")):n.a.createElement("div",{id:"changePassword"},a.checkUser())},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return n.a.createElement("div",{className:"ui mini red message"},t)}}]),t}(n.a.Component),ae=Object(R.a)({form:"changepassword",validate:function(e){var t={};return e.username||(t.username="Musisz poda\u0107 login"),t}})(te),re=Object(p.b)(function(e){return{user:e.user}},{changePassword:function(e){return function(){var t=Object(h.a)(E.a.mark(function t(a,r){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.post("/users/changepassword",e);case 3:w.push("/login"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert("UPS... Spr\xf3buj jeszcze raz..");case 9:case"end":return t.stop()}},t,null,[[0,6]])}));return function(e,a){return t.apply(this,arguments)}}()},sendEmail:function(e){return function(){var t=Object(h.a)(E.a.mark(function t(a){var r;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.username,t.next=4,y.post("/users/sendemail",{username:r});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert("UPS... Nie ma takiego u\u017cytkownika..");case 9:case"end":return t.stop()}},t,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}()}})(ae),ne=a(53),ce=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{id:"App"},n.a.createElement(ne.b,{history:w},n.a.createElement(B,null),n.a.createElement(ne.a,{path:"/",exact:!0,component:z}),n.a.createElement(ne.a,{path:"/changepassword",exact:!0,component:re}),n.a.createElement(ne.a,{path:"/register",exact:!0,component:P}),n.a.createElement(ne.a,{path:"/login",exact:!0,component:Z}),n.a.createElement(ne.a,{path:"/addmeal",exact:!0,component:U}),n.a.createElement(ne.a,{path:"/addactivity",exact:!0,component:Y}),n.a.createElement(ne.a,{path:"/bmr",exact:!0,component:ee})))}}]),t}(n.a.Component),ie=a(176),oe=a(9),se=a(172),le={meals:JSON.parse(localStorage.getItem("meals"))},ue={user:JSON.parse(localStorage.getItem("user")),isSigned:JSON.parse(localStorage.getItem("isSigned")),token:JSON.parse(localStorage.getItem("token"))},me={activities:JSON.parse(localStorage.getItem("activities"))},de={bmr:JSON.parse(localStorage.getItem("bmr"))},pe={countermeals:JSON.parse(localStorage.getItem("countermeals"))},be={counteractivities:JSON.parse(localStorage.getItem("counteractivities"))},fe=Object(oe.c)({meals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MEALS":case"ADD_MEAL":return Object(f.a)({},e,{meals:t.payload});case"CLEAR_MEALS":return Object(f.a)({},e,{meals:null});case"REFRESH_MEALS":return Object(f.a)({},e,{INITIAL_STATE:le});case"DELETE_MEAL":return Object(f.a)({},e,{meals:Object(f.a)({},e.meals,{items:e.meals.items.filter(function(e){return e._id!==t.payload})})});default:return e}},form:se.a,user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_UP":return Object(f.a)({},e,{registration:t.payload});case"SIGN_UP_PROBLEM":return Object(f.a)({},e,{errors:t.payload});case"SIGN_IN":return Object(f.a)({},e,{user:t.payload,isSigned:!0});case"SIGN_IN_PROBLEM":return Object(f.a)({},e,{errors:t.payload});case"LOG_OUT":return Object(f.a)({},e,{user:ue,isSigned:!1});case"TOKEN":return Object(f.a)({},e,{token:t.payload});default:return e}},bmr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BMR":return Object(f.a)({},e,{bmr:t.payload});default:return e}},countermeals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_COUNTER_MEALS":case"REFRESH_COUNTER_MEALS":return Object(f.a)({},e,{countermeals:t.payload});default:return e}},counteractivities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_COUNTER_ACTIVITIES":case"REFRESH_COUNTER_ACTIVITIES":return Object(f.a)({},e,{counteractivities:t.payload});default:return e}},activities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ACTIVITIES":case"ADD_ACTIVITY":return Object(f.a)({},e,{activities:t.payload});case"CLEAR_ACTIVITIES":return Object(f.a)({},e,{activities:null});case"REFRESH_ACTIVITIES":return Object(f.a)({},e,{INITIAL_STATE:me});case"DELETE_ACTIVITY":return Object(f.a)({},e,{activities:Object(f.a)({},e.activities,{items:e.activities.items.filter(function(e){return e._id!==t.payload})})});default:return e}}}),ve=Object(oe.e)(fe,Object(oe.d)(Object(oe.a)(ie.a)));i.a.render(n.a.createElement(p.a,{store:ve},n.a.createElement(ce,null)),document.querySelector("#root"))}},[[202,1,2]]]);
//# sourceMappingURL=main.ebababec.chunk.js.map